(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},17:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(5),c=a.n(r),i=(a(17),a(2)),u=a.n(i),l=a(3),o=a(6),m=a(7),h=a(9),g=a(8),d=a(10),p=a(1),b=(a(21),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={signature:"",message:"",data:void 0},a.change_signature=a.change_signature.bind(Object(p.a)(Object(p.a)(a))),a.change_message=a.change_message.bind(Object(p.a)(Object(p.a)(a))),a.submit=a.submit.bind(Object(p.a)(Object(p.a)(a))),a.renderData=a.renderData.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://lkt-back-end.herokuapp.com/guest_book/api/signature").then(function(e){return e.json().then(function(e){return t.setState({data:e})})});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"change_signature",value:function(e){this.setState({signature:e.target.value})}},{key:"change_message",value:function(e){this.setState({message:e.target.value})}},{key:"submit",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lkt-back-end.herokuapp.com/guest_book/api/signature",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({signature_of_guest:this.state.signature,message_of_guest:this.state.message,Time:new Date})});case 2:return e.prev=2,e.next=5,fetch("https://lkt-back-end.herokuapp.com/guest_book/api/signature").then(function(e){return e.json().then(function(e){return t.setState({data:e})})});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),e.t0;case 10:alert("Sent data successfully");case 11:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderData",value:function(){var e=this.state.data.slice();return e.reverse(),e.map(function(e){var t=e.createdAt;return t=new Date(t),s.a.createElement("div",{key:e._id},s.a.createElement("span",null,"Time: ",t.getHours()+"h "+t.getMinutes()+"m "+t.getSeconds()+"s "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()),s.a.createElement("br",null),s.a.createElement("span",null,"Name: ",e.Guest_Signature),s.a.createElement("div",null,"Message: ",e.Message),s.a.createElement("br",null),s.a.createElement("br",null))})}},{key:"render",value:function(){return this.state.data?s.a.createElement("div",{className:"all float-up"},s.a.createElement("div",{className:"a_half2"},s.a.createElement("h1",null,"Recent message"),this.renderData()),s.a.createElement("div",{className:"a_half"},s.a.createElement("button",{className:"submit",onClick:this.submit},"Send"),s.a.createElement("h1",null,"Your name"),s.a.createElement("input",{name:"signature",className:"name",onChange:this.change_signature}),s.a.createElement("h1",null,"Message"),s.a.createElement("textarea",{name:"message",className:"message",onChange:this.change_message}))):s.a.createElement("div",{className:"all"},s.a.createElement("div",{className:"a_half2"},s.a.createElement("h1",null,"Recent message"),s.a.createElement("div",null,"Loading...")),s.a.createElement("div",{className:"a_half"},s.a.createElement("button",{className:"submit",onClick:this.submit},"Send"),s.a.createElement("h1",null,"Your name"),s.a.createElement("input",{name:"signature",className:"name",onChange:this.change_signature}),s.a.createElement("h1",null,"Message"),s.a.createElement("textarea",{name:"message",className:"message",onChange:this.change_message})))}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);